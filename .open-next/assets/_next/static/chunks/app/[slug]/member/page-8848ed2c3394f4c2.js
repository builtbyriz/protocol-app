(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[815],{39420:function(e,t,s){Promise.resolve().then(s.bind(s,3721)),Promise.resolve().then(s.bind(s,46140)),Promise.resolve().then(s.bind(s,41138)),Promise.resolve().then(s.t.bind(s,231,23))},3721:function(e,t,s){"use strict";s.d(t,{CommunityFeed:function(){return f}});var a=s(57437),r=s(41647),n=s(36013),i=s(50495),c=s(40933),l=s(55636),o=s(2265),d=s(73801);s(74590);var u=s(58064);(0,u.$)("a891506ba1bebc962315a9b19d3c8d56b27750b9"),(0,u.$)("830573f87d5edac69ad275a729d98554e1a3a8da");var m=(0,u.$)("b3016cde7e139af36ba4832c8dec4e2e96f81428"),x=s(37440);function f(e){let{initialActivities:t,gymId:s}=e,{trigger:u}=(0,d.C)(),[f,h]=(0,o.useState)(t),p=async e=>{u("success"),h(t=>t.map(t=>{if(t.id===e){let e=!t.hasFistbumped;return{...t,fistbumps:t.fistbumps+(e?1:-1),hasFistbumped:e}}return t}));try{await m(e)}catch(t){console.error("Failed to toggle fistbump",t),h(t=>t.map(t=>{if(t.id===e){let e=!t.hasFistbumped;return{...t,fistbumps:t.fistbumps+(e?1:-1),hasFistbumped:e}}return t}))}};return 0===f.length?(0,a.jsxs)("div",{className:"space-y-4 mt-8",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Community Feed"}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground text-center py-8 border rounded-md border-dashed",children:"No recent activity. Be the first to log a workout!"})]}):(0,a.jsxs)("div",{className:"space-y-4 mt-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Community Feed"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded-full",children:"Live"})]}),(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,a.jsx)(n.Zb,{className:"overflow-hidden",children:(0,a.jsxs)(n.aY,{className:"p-4 flex gap-3",children:[(0,a.jsxs)(r.Avatar,{className:"h-10 w-10 border-2 border-background",children:[(0,a.jsx)(r.AvatarImage,{src:e.user.avatar}),(0,a.jsx)(r.AvatarFallback,{children:e.user.initials})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.user.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(c.Z,{className:"h-3 w-3"}),e.timeAgo]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Completed ",(0,a.jsx)("span",{className:"font-medium text-foreground",children:e.workout})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-bold font-mono bg-muted/50 px-2 py-0.5 rounded",children:e.result}),(0,a.jsxs)(i.Button,{variant:"ghost",size:"sm",className:(0,x.cn)("h-8 px-2 gap-1.5 transition-colors",e.hasFistbumped?"text-primary hover:text-primary/80":"text-muted-foreground hover:text-primary"),onClick:()=>p(e.id),children:[(0,a.jsx)(l.Z,{className:(0,x.cn)("h-3.5 w-3.5",e.hasFistbumped&&"fill-current")}),(0,a.jsx)("span",{className:"text-xs",children:e.fistbumps})]})]})]})]})},e.id))})]})}},46140:function(e,t,s){"use strict";s.d(t,{SmartEmptyState:function(){return c}});var a=s(57437),r=s(71341),n=s(50495),i=s(87138);function c(e){let{icon:t,title:s,description:c,actionLabel:l,actionHref:o}=e;return(0,a.jsxs)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center text-center p-8 border border-dashed rounded-xl bg-muted/5 space-y-4",children:[(0,a.jsx)("div",{className:"p-4 bg-background rounded-full shadow-sm",children:(0,a.jsx)(t,{className:"h-8 w-8 text-primary"})}),(0,a.jsxs)("div",{className:"space-y-1 max-w-xs",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:s}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]}),(0,a.jsx)(n.Button,{asChild:!0,variant:"default",size:"sm",className:"mt-2",children:(0,a.jsx)(i.default,{href:o,children:l})})]})}},41138:function(e,t,s){"use strict";s.d(t,{WorkoutCard:function(){return I}});var a=s(57437),r=s(36013),n=s(2265),i=s(71538),c=s(13027),l=s(37440);let o=(0,c.j)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:s,asChild:r=!1,...n}=e,c=r?i.g7:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(o({variant:s}),t),...n})}var u=s(48298),m=s(40933),x=s(98156),f=s(35525),h=s(23395),p=s(38733),g=s(24241),v=s(71976),b=s(85016),j=s(33907),N=s(71510),w=s(37164),y=s(50495),k=s(49805),C=s(71341),z=s(22468),Z=s(73801);function S(e){let{children:t,onComplete:s,className:r}=e,[i,c]=(0,n.useState)(!1),o=(0,k._)(),{trigger:d}=(0,Z.C)(),u=async(e,t)=>{t.offset.x>100&&!i?(c(!0),d("success"),s&&s(),await o.start({x:0})):o.start({x:0})};return(0,a.jsxs)("div",{className:(0,l.cn)("relative overflow-hidden rounded-md",r),children:[(0,a.jsx)("div",{className:(0,l.cn)("absolute inset-0 flex items-center px-4 transition-colors duration-300",i?"bg-green-500/20":"bg-green-500"),children:(0,a.jsx)(z.Z,{className:"text-white h-5 w-5"})}),(0,a.jsx)(C.E.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:{right:.5,left:.1},onDragEnd:u,animate:o,className:(0,l.cn)("relative bg-card border rounded-md p-3 transition-colors",i&&"bg-green-500/10 border-green-500/20"),style:{x:0},children:(0,a.jsx)("div",{className:(0,l.cn)("transition-opacity",i&&"opacity-50"),children:t})})]})}var A=s(16463),F=s(52834),E=s(74697);let _=F.fC,B=F.xz,D=F.h_;F.x8;let R=n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(F.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});R.displayName=F.aV.displayName;let O=n.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(D,{children:[(0,a.jsx)(R,{}),(0,a.jsxs)(F.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[r,(0,a.jsxs)(F.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});O.displayName=F.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(F.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})}).displayName=F.Dx.displayName,n.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(F.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})}).displayName=F.dk.displayName;var P=s(41647),T=s(43765);function L(e){let{workoutTitle:t,duration:s,calories:r,memberName:n,memberAvatar:i,date:c}=e;return(0,a.jsxs)("div",{className:"w-[375px] h-[667px] bg-black relative overflow-hidden flex flex-col items-center justify-between p-8 text-white",id:"share-card",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 opacity-80"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),(0,a.jsxs)("div",{className:"relative z-10 w-full flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-6 w-6 text-yellow-400"}),(0,a.jsx)("span",{className:"font-bold tracking-wider text-sm",children:"PROTOCOL"})]}),(0,a.jsx)("span",{className:"text-xs font-mono opacity-70",children:c.toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-8 text-center",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium uppercase tracking-widest text-white/60",children:"Workout Complete"}),(0,a.jsx)("h1",{className:"text-5xl font-black italic leading-tight tracking-tighter",children:t})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"h-8 w-8 text-blue-400 mb-2"}),(0,a.jsx)("span",{className:"text-3xl font-bold",children:s}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider opacity-60",children:"Time"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)(T.Z,{className:"h-8 w-8 text-orange-400 mb-2"}),(0,a.jsx)("span",{className:"text-3xl font-bold",children:r}),(0,a.jsx)("span",{className:"text-xs uppercase tracking-wider opacity-60",children:"Cals"})]})]})]}),(0,a.jsxs)("div",{className:"relative z-10 w-full flex items-center gap-4 bg-white/10 backdrop-blur-md p-4 rounded-2xl border border-white/10",children:[(0,a.jsxs)(P.Avatar,{className:"h-12 w-12 border-2 border-white/20",children:[(0,a.jsx)(P.AvatarImage,{src:i}),(0,a.jsx)(P.AvatarFallback,{children:n[0]})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-bold text-lg",children:n}),(0,a.jsx)("span",{className:"text-xs opacity-70",children:"Crushed it today! \uD83D\uDE80"})]})]})]})}var V=s(27776);function I(e){let{workout:t,slug:s,logged:i,memberName:c="Athlete",memberAvatar:l=""}=e,o=(0,A.useRouter)(),{speak:k,cancel:C,isSpeaking:z,isSupported:Z}=function(){let[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if("speechSynthesis"in window){t(!0);let e=()=>{let e=window.speechSynthesis.getVoices();i(e.find(e=>e.name.includes("Google US English"))||e[0])};e(),window.speechSynthesis.onvoiceschanged=e}},[]),{speak:(0,n.useCallback)(t=>{if(!e)return;window.speechSynthesis.cancel();let s=new SpeechSynthesisUtterance(t);r&&(s.voice=r),s.rate=1,s.pitch=1,s.onstart=()=>a(!0),s.onend=()=>a(!1),s.onerror=()=>a(!1),window.speechSynthesis.speak(s)},[e,r]),cancel:(0,n.useCallback)(()=>{e&&(window.speechSynthesis.cancel(),a(!1))},[e]),isSupported:e,isSpeaking:s}}();return(0,a.jsxs)(r.Zb,{className:"w-full",children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ll,{className:"text-xl mb-1 flex items-center gap-2",children:[t.title,Z&&(0,a.jsx)(y.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full",onClick:e=>{e.stopPropagation(),z?C():k("Workout Briefing for ".concat(t.title,". This is a ").concat(t.workoutType," workout. ").concat(t.description,". Good luck, ").concat(c.split(" ")[0],"!"))},children:z?(0,a.jsx)(h.Z,{className:"h-4 w-4 text-primary animate-pulse"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground gap-2",children:[(0,a.jsx)(g.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:new Date(t.date).toLocaleDateString()})]})]}),(0,a.jsxs)(d,{variant:"secondary",className:"flex items-center gap-1",children:[(e=>{switch(e){case"For Time":return(0,a.jsx)(u.Z,{className:"h-4 w-4"});case"AMRAP":return(0,a.jsx)(m.Z,{className:"h-4 w-4"});case"EMOM":return(0,a.jsx)(x.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(f.Z,{className:"h-4 w-4"})}})(t.workoutType),t.workoutType]})]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-muted/30 p-3 rounded-md text-sm whitespace-pre-wrap font-mono",children:t.description}),t.movements&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:"Movements (Swipe to Complete)"}),(0,a.jsx)("div",{className:"flex flex-col gap-2",children:t.movements.split("\n").map((e,t)=>(0,a.jsx)(S,{children:(0,a.jsx)("div",{className:"text-sm font-medium",children:e})},t))})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsxs)(y.Button,{className:"flex-1 gap-2",onClick:()=>o.push("/".concat(s,"/member/log-workout/").concat(t.id)),children:[i?"Log Another":"Log Result"," ",(0,a.jsx)(v.Z,{className:"h-4 w-4"})]}),(0,a.jsxs)(y.Button,{variant:"outline",className:"gap-2",onClick:()=>o.push("/".concat(s,"/member/leaderboard/").concat(t.id)),children:[(0,a.jsx)(b.Z,{className:"h-4 w-4"}),"Leaderboard"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,a.jsxs)(y.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs text-muted-foreground hover:text-primary gap-1",onClick:()=>o.push("/".concat(s,"/member/chat?initialPrompt=Analyze my performance on ").concat(t.title,". How can I improve?")),children:[(0,a.jsx)(j.Z,{className:"h-3 w-3"}),"Ask Coach"]}),(0,a.jsxs)(_,{children:[(0,a.jsx)(B,{asChild:!0,children:(0,a.jsxs)(y.Button,{variant:"ghost",size:"sm",className:"flex-1 text-xs text-muted-foreground hover:text-primary gap-1",children:[(0,a.jsx)(N.Z,{className:"h-3 w-3"}),"Share"]})}),(0,a.jsxs)(O,{className:"sm:max-w-md bg-transparent border-none shadow-none p-0 flex flex-col items-center",children:[(0,a.jsx)(L,{workoutTitle:t.title,duration:"45:00",calories:450,memberName:c,memberAvatar:l,date:new Date(t.date)}),(0,a.jsxs)(y.Button,{className:"mt-4 w-full max-w-[375px]",onClick:()=>V.Am.success("Image saved to gallery!"),children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Save Image"]})]})]})]})]})]})}},41647:function(e,t,s){"use strict";s.d(t,{Avatar:function(){return i},AvatarFallback:function(){return l},AvatarImage:function(){return c}});var a=s(57437);s(2265);var r=s(7609),n=s(37440);function i(e){let{className:t,...s}=e;return(0,a.jsx)(r.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(r.Ee,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...s})}},50495:function(e,t,s){"use strict";s.d(t,{Button:function(){return d}});var a=s(57437),r=s(2265),n=s(71538),i=s(13027),c=s(37440),l=s(73801);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,onClick:u,...m}=e,x=d?n.g7:"button",{trigger:f}=(0,l.C)();return(0,a.jsx)(x,{"data-slot":"button",className:(0,c.cn)(o({variant:r,size:i,className:s}),"active:scale-95 transition-transform"),ref:t,onClick:e=>{f("light"),u&&u(e)},...m})});d.displayName="Button"},36013:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var a=s(57437);s(2265);var r=s(37440);function n(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card/80 backdrop-blur-sm text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}function o(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...s})}},73801:function(e,t,s){"use strict";s.d(t,{C:function(){return r}});var a=s(2265);function r(){return{trigger:(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";if("undefined"!=typeof navigator&&navigator.vibrate)switch(e){case"light":navigator.vibrate(10);break;case"medium":navigator.vibrate(20);break;case"heavy":navigator.vibrate(40);break;case"success":navigator.vibrate([10,30,10]);break;case"error":navigator.vibrate([50,30,50,30,50]);break;case"warning":navigator.vibrate([30,30,30])}},[])}}},37440:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(44839),r=s(96164);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[868,231,28,776,341,591,971,23,560],function(){return e(e.s=39420)}),_N_E=e.O()}]);